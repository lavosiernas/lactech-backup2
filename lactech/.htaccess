# PWA Configuration
# Garantir que manifest.json seja servido com o tipo MIME correto
<IfModule mod_mime.c>
    AddType application/manifest+json .json
    AddType application/json .json
</IfModule>

# Service Worker - permitir acesso
<IfModule mod_headers.c>
    # Headers específicos para manifest.json
    <FilesMatch "manifest\.json$">
        Header set Content-Type "application/manifest+json; charset=utf-8"
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, OPTIONS"
        Header set Access-Control-Allow-Headers "Content-Type"
    </FilesMatch>
    
    # Headers específicos para Service Worker
    <FilesMatch "sw-manager\.js$">
        Header set Content-Type "application/javascript; charset=utf-8"
        Header set Service-Worker-Allowed "/"
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, OPTIONS"
    </FilesMatch>
</IfModule>